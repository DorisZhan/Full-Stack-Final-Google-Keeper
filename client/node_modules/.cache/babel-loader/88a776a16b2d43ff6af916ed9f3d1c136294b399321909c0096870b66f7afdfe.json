{"ast":null,"code":"var _jsxFileName = \"/Users/yiyouchen/Documents/googlekeeper/client/src/components/App.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport Header from \"./Header\";\nimport Footer from \"./Footer\";\nimport Note from \"./Note\";\nimport notes from \"../notes\";\nfunction App() {\n  _s();\n  const [info, setInfo] = useState({\n    key: \"\",\n    title: \"\",\n    content: \"\"\n  }); // stores form input values\n\n  const [backendData, setBackendData] = useState([{}]);\n  const [note, setNote] = useState(backendData);\n  const [dataUpdated, setDataUpdated] = useState(true);\n  useEffect(() => {\n    fetch(\"/api\").then(response => response.json()).then(data => {\n      if (data.title !== \"\" && data.content !== \"\") {\n        setNote([...note, data]);\n        setBackendData(data);\n      }\n    });\n  }, [dataUpdated]);\n  function handleChange(event) {\n    const {\n      value,\n      name\n    } = event.target;\n    setInfo(prevValue => {\n      if (name === \"title\") {\n        return {\n          title: value,\n          content: prevValue.content\n        };\n      } else if (name === \"content\") {\n        return {\n          key: note.length + 1,\n          title: prevValue.title,\n          content: value\n        };\n      }\n    });\n  }\n  const addNote = () => {\n    async function postData() {\n      const response = await fetch(\"/api/postData\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          key: info.length + 1,\n          title: info.title,\n          content: info.content\n        })\n      });\n      if ((response === null || response === void 0 ? void 0 : response.status) === 200) {\n        setDataUpdated(!dataUpdated);\n        setInfo({\n          key: \"\",\n          title: \"\",\n          content: \"\"\n        });\n      }\n    }\n    ;\n    if (info.title.trim() !== \"\" && info.content.trim() !== \"\") {\n      postData();\n    }\n  };\n  const deleteNote = id => {\n    async function deleteData(id) {\n      const response = await fetch(\"/api/deleteData\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          userId: id\n        })\n      });\n      if ((response === null || response === void 0 ? void 0 : response.status) === 200) {\n        setDataUpdated(!dataUpdated);\n      }\n    }\n    ;\n    deleteData(id);\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mainnote\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    name: \"title\",\n    placeholder: \"Title\",\n    onChange: handleChange,\n    value: info.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    name: \"content\",\n    placeholder: \"Take a note...\",\n    onChange: handleChange,\n    type: \"text\",\n    value: info.content,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: \".update\",\n    onClick: addNote,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 11\n    }\n  }, \"ADD\"))), backendData.length === 0 ? /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 9\n    }\n  }) : backendData.map((notes, i) => /*#__PURE__*/React.createElement(Note, {\n    className: \"note\",\n    key: i,\n    title: notes.title,\n    content: notes.content,\n    onDelete: () => deleteNote(notes._id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }\n  }));\n}\n_s(App, \"me5V0n2v/KSqc2Cv23vA/qFGfOo=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","useState","Header","Footer","Note","notes","App","_s","info","setInfo","key","title","content","backendData","setBackendData","note","setNote","dataUpdated","setDataUpdated","fetch","then","response","json","data","handleChange","event","value","name","target","prevValue","length","addNote","postData","method","headers","body","JSON","stringify","status","trim","deleteNote","id","deleteData","userId","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","className","placeholder","onChange","type","onClick","map","i","onDelete","_id","_c","$RefreshReg$"],"sources":["/Users/yiyouchen/Documents/googlekeeper/client/src/components/App.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport Header from \"./Header\";\nimport Footer from \"./Footer\";\nimport Note from \"./Note\";\nimport notes from \"../notes\";\n\nfunction App() {\n  \n  const [info, setInfo] = useState({\n    key: \"\",\n    title: \"\",\n    content: \"\"\n  }); // stores form input values\n\n  const [backendData, setBackendData] = useState([{}]);\n  const [note, setNote] = useState(backendData);\n  const [dataUpdated, setDataUpdated] = useState(true);\n\n  useEffect(() => {\n      fetch(\"/api\").then(\n        response => response.json()\n      ).then(\n        data => {\n          if (data.title !== \"\" && data.content !== \"\") {\n            setNote([...note, data]);\n            setBackendData(data);\n          }\n        }\n      )\n    }, [dataUpdated])\n\n  function handleChange(event) {\n    const { value, name } = event.target;\n\n    setInfo((prevValue) => {\n      if (name === \"title\") {\n        return {\n          title: value,\n          content: prevValue.content\n        };\n      } else if (name === \"content\") {\n        return {\n          key: note.length + 1,\n          title: prevValue.title,\n          content: value\n        };\n      }\n    });\n  }\n\n  const addNote = () => {\n    async function postData () {\n      const response = await fetch(\"/api/postData\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n\n        body: JSON.stringify({\n          key: info.length + 1,\n          title: info.title,\n          content: info.content\n        })\n      })\n      if (response?.status === 200) {\n        setDataUpdated(!dataUpdated);\n        setInfo({ key: \"\", title: \"\", content: \"\"});\n      }\n    };\n    if (info.title.trim() !== \"\" && info.content.trim() !== \"\") {\n      postData();\n    }\n  };\n\n  const deleteNote = (id) => {\n    async function deleteData (id) {\n      const response = await fetch(\"/api/deleteData\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n\n        body: JSON.stringify({\n          userId: id\n        }),\n      })\n      if (response?.status === 200) {\n        setDataUpdated(!dataUpdated);\n      }\n    };\n    deleteData(id);\n  }\n\n  return (\n    <div>\n      <Header />\n      <div className=\"mainnote\">\n        <input\n          name=\"title\"\n          placeholder=\"Title\"\n          onChange={handleChange}\n          value={info.title}\n        />\n        <input\n          name=\"content\"\n          placeholder=\"Take a note...\"\n          onChange={handleChange}\n          type=\"text\"\n          value={info.content}\n        />\n        <button className=\".update\" onClick={addNote}>\n          <span>ADD</span>\n        </button>\n      </div>\n      {(backendData.length === 0) ? (\n        <p></p>\n      ):(\n        backendData.map((notes, i) => (\n          <Note\n            className=\"note\"\n            key={i}\n            title={notes.title}\n            content={notes.content}\n            onDelete={() => deleteNote(notes._id)}\n          />\n        ))\n      )}\n      <Footer />\n    </div>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}